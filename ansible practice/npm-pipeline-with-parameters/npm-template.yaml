parameters:
  - name: mavenPOMFile
    displayName: maven
    type: string
    default: 'pom.xml'
 
  - name: goal
    displayName: goal
    type: string
    default: 'package'
    values: 
      - package
      - clean
      - install
      - compile
      - deploy

  - name: publishJUnitResults
    displayName: publishJUnitResults
    type:  boolean
    default: true

  - name: testResultsFiles
    displayName: testResultsFiles
    type:  string
    default: **/surefire-reports/TEST-*.xml

  - name: jdkVersion
    displayName: Java Version
    type: string
    default: '1.11

  - name: javaHomeOption
    displayName: javaHomeOption
    type: string
    default: JDKVersion

  - name: jdkVersionOption
    displayName: jdkVersionOption
    type: string
    default: '1.17'

  - name: jdkDirectory
    displayName: jdkDirectory
    type: path
    default: 

  - name: javaHomeSelection
    displayName: javaHomeSelection
    type: string
    default: path






steps:
- task: Maven@3
  inputs:
    
    mavenPOMFile: "${{ parameters.pomFilePath }}"
    goals: "${{ parameters.goal }}"
    publishJUnitResults: yes
    testResultsFiles: '**/surefire-reports/TEST-*.xml'
    jdkVersionOption: "${{ parameters.jdkVersion }}"
    mavenAuthenticateFeed: ${{ parameters.authenticateMavenFeed }}
